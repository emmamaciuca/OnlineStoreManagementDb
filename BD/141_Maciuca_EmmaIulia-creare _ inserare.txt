CREATE SEQUENCE UTILIZATOR_SEQ START WITH 1;
CREATE SEQUENCE PRODUS_SEQ START WITH 1;
CREATE SEQUENCE CATEGORIE_SEQ START WITH 1;
CREATE SEQUENCE COMANDA_SEQ START WITH 1;
CREATE SEQUENCE LIVRARE_SEQ START WITH 1;
CREATE SEQUENCE ADRESA_SEQ START WITH 1;
CREATE SEQUENCE PLATA_SEQ START WITH 1;
CREATE SEQUENCE CARD_SEQ START WITH 1;
CREATE SEQUENCE COS_CUMPARATURI_SEQ START WITH 1;
CREATE SEQUENCE LISTA_DORINTE_SEQ START WITH 1;
CREATE SEQUENCE CURIER_SEQ START WITH 1;
CREATE SEQUENCE MASINA_LIVRARE_SEQ START WITH 1;



CREATE TABLE UTILIZATOR (
  ID_UTILIZATOR INT DEFAULT UTILIZATOR_SEQ.NEXTVAL,
  NUME VARCHAR(255),
  PRENUME VARCHAR(255),
  EMAIL VARCHAR(255) NOT NULL,
  PAROLA VARCHAR(255) NOT NULL,
  NUMAR_TELEFON VARCHAR(10) CONSTRAINT VERIFICARE_TELEFON CHECK ( LENGTH(NUMAR_TELEFON) = 10),
  DATA_NASTERE DATE,
  CONSTRAINT CHEIE_PRIMARA_UTILIZATOR PRIMARY KEY (ID_UTILIZATOR),
  CONSTRAINT EMAIL_UNIC UNIQUE (EMAIL)
);


INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Maciuca', 'Emma', 'emmamaciuca@gmail.com', 'parola2024', '0712345678' ,'12-FEB-2004');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Popescu', 'Andreea-Ioana', 'popescuandreea@gmail.com', 'abcparola', '0757828352' ,'14-APR-2000');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Ion', 'Andrei', 'ionandrei@gmail.com', 'contmagazin', '0717025379' ,'20-MAR-1990');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Andreescu', 'Maria', 'mariaandr@gmail.com', '123456789', '0720953487' ,'09-MAY-2001');
 
INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Maciuca', 'Sara', 'maciucasara@gmail.com', 'sara1998', '0709348726' ,'26-MAY-1998');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Marin', 'Iuliana', 'mariniuliana@gmail.com', 'iulianamarin12', '0746892537' ,'12-JUL-1999');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Pop', 'Daria', 'dariap56@gmail.com', 'fructabcd', '0756293641' ,'05-JUN-2002');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Popa', 'Mara', 'marapopa@gmail.com', 'maraa2103', '0747935728' ,'21-MAR-2000');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Mares', 'Darius', 'maresdarius@gmail.com', 'guh4ngj5nkf!', '0767937563' ,'08-JUN-2003');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Balan', 'Ioana', 'balan_ioana@gmail.com', 'ppp273ffs', '0763927455' ,'15-APR-1989');

INSERT INTO UTILIZATOR (NUME, PRENUME, EMAIL, PAROLA, NUMAR_TELEFON, DATA_NASTERE) VALUES 
('Popescu', 'Marian', 'marianpopescu@gmail.com', 'parola_magazin', '0765223465' ,'11-JUN-1980');


SELECT * FROM UTILIZATOR;




--TABELA ADRESA
CREATE TABLE ADRESA (
  ID_ADRESA INT DEFAULT ADRESA_SEQ.NEXTVAL,
  STRADA VARCHAR2(255) NOT NULL,
  ORAS VARCHAR2(255) NOT NULL,
  TARA VARCHAR2(255) NOT NULL,
  COD_ZIP VARCHAR2(10) NOT NULL,
  CONSTRAINT CHEIE_PRIMARA_ADRESA PRIMARY KEY (ID_ADRESA)
);

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('BULEVARDUL TOMIS 287', 'CONSTANTA', 'ROMANIA', '900407'); 

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('STRADA VASILE PARVAN 2', 'BUCURESTI', 'ROMANIA', '901294'); 

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('BULEVARDUL ALEXANDRU LAPUSNEANU 13', 'CONSTANTA', 'ROMANIA', '900352'); 

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('STRADA DEZROBIRII 100', 'CONSTANTA', 'ROMANIA', '900294');

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('BULEVARDUL CAROL I NR.12', 'BUCURESTI', 'ROMANIA', '010292');

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('STRADA MATEI BASARAB NR.67A', 'GALATI', 'ROMANIA', '800921');

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('SPLAIUL UNIRII NR.312 BLOC T12 SC.C', 'BUCURESTI', 'ROMANIA', '010734');

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('STRADA CASTANILOR NR.1 BLOC A2 SC.B AP.6', 'BRASOV', 'ROMANIA', '500752');

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('STRADA FAGETULUI NR.9', 'BUCURESTI', 'ROMANIA', '010184');

INSERT INTO ADRESA (STRADA, ORAS, TARA, COD_ZIP) VALUES ('STRADA MARULUI NR.92', 'BUCURESTI', 'ROMANIA', '010793');


-- TABELA CURIER
CREATE TABLE CURIER(
  ID_CURIER INT DEFAULT CURIER_SEQ.NEXTVAL,
  NUME VARCHAR2(255) NOT NULL,
  PRENUME VARCHAR2(255)NOT NULL,
  SALARIU NUMBER(10,2),
  CONSTRAINT PK_CURIER PRIMARY KEY (ID_CURIER)
  );


INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('ION', 'ALEXANDRU', 2800); 
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('POPESCU', 'MARIA', 3200);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('IONESCU', 'GEORGE', 2900);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('STANESCU', 'ANA', 3100);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('DOBRESCU', 'MIHAI', 2700);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('MARINESCU', 'ANDREI', 3300);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('ALEXANDRU', 'RADU', 3400);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('STEFANESCU', 'CRISTINA', 2800);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('IONESCU', 'ADINA', 3500);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('RADU', 'FLORIN', 3500);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('STEFANESCU', 'VLAD', 3600);
INSERT INTO CURIER (NUME, PRENUME, SALARIU) VALUES ('CONSTANTINESCU', 'MARIUS', 3700);
select * from curier;




--Tabela MASINA_LIVRARE

CREATE TABLE MASINA_LIVRARE(
  ID_MASINA INT DEFAULT MASINA_LIVRARE_SEQ.NEXTVAL,
  MODEL_MASINA VARCHAR2(255),
  NUMAR_INMATRICULARE VARCHAR2(255)NOT NULL,
  CONSTRAINT PK_MASINA PRIMARY KEY (ID_MASINA)
  );

INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Mercedes-Benz Sprinter', 'B-123-ABC');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Ford Transit', 'BV-456-DEF');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Fiat Ducato', 'B-789-GHI');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Volkswagen Crafter', 'CT-101-JKL');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Renault Master', 'B-202-MNO');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Peugeot Boxer', 'GL-303-PQR');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Iveco Daily', 'B-404-STU');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('CitroÃ«n Jumper', 'CT-505-VWX');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Opel Movano', 'B-606-YZA');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Nissan NV400', 'B-707-BCD');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('Hyundai H350', 'BV-808-EFG');
INSERT INTO MASINA_LIVRARE (MODEL_MASINA, NUMAR_INMATRICULARE) VALUES ('MAN TGE', 'CT-909-HIJ');
select * from masina_livrare;




-- TABELA LIVRARE
CREATE TABLE LIVRARE (
  ID_LIVRARE INT DEFAULT LIVRARE_SEQ.NEXTVAL,
  METODA_LIVRARE VARCHAR2(255) NOT NULL,
  PRET_LIVRARE NUMBER(10,2),
  STARE VARCHAR2(255) NOT NULL,
  DATA_LIVRARE DATE,
  ID_ADRESA INT,
  ID_CURIER INT,
  ID_MASINA INT,
  CONSTRAINT PK_UTILIZATOR PRIMARY KEY (ID_LIVRARE),
  CONSTRAINT FK_LIVRARE_ADRESA FOREIGN KEY(ID_ADRESA) REFERENCES ADRESA(ID_ADRESA),
  CONSTRAINT FK_LIVRARE_CURIER FOREIGN KEY(ID_CURIER) REFERENCES CURIER(ID_CURIER),
  CONSTRAINT FK_LIVRARE_MASINA FOREIGN KEY(ID_MASINA) REFERENCES MASINA_LIVRARE(ID_MASINA),
  CONSTRAINT STARE_CHECK CHECK (STARE IN ('IN CURS DE PROCESARE', 'EFECTUATA', 'IN CURS DE LIVRARE')),
  CONSTRAINT PRET_LIVRARE_CHECK CHECK (PRET_LIVRARE >= 0)
);

INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('CURIER', 12.90 , 'EFECTUATA', '12-MAY-2024', 1,2,7);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('EASYBOX',6.90 , 'EFECTUATA', '15-MAY-2024', 4,3,10);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('EASYBOX',6.90 , 'EFECTUATA', '15-MAY-2024', 4,3,10);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('CURIER', 16.99 , 'IN CURS DE LIVRARE', '20-MAY-2024', 9,1,5);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('FANBOX', 10 , 'EFECTUATA', '20-FEB-2024', 8,5,1);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('CURIER', 16.99 , 'EFECTUATA', '02-DEC-2023', 10,7,11);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('SAMEDAY', 0 , 'IN CURS DE PROCESARE', '17-MAY-2024', 7,10,2);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('CURIER', 19.99 , 'EFECTUATA', '16-APR-2024', 6,1,5);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('CURIER', 16.99 , 'IN CURS DE LIVRARE', '26-JUN-2023', 2,6,3);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('EASYBOX', 0 , 'IN CURS DE PROCESARE', '16-MAY-2024', 9,11,8);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('CURIER', 14.99, 'EFECTUATA', '30-MAR-2024', 5, 4, 12);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('FANBOX', 10.50, 'EFECTUATA', '22-MAR-2024', 3, 6, 4);
INSERT INTO LIVRARE (metoda_livrare, pret_livrare, stare, data_livrare, id_adresa, id_curier, id_masina) VALUES ('CURIER', 19.99, 'IN CURS DE LIVRARE', '01-JUN-2024', 2, 12, 9);

SELECT * FROM LIVRARE;


--Tabela COMANDA
CREATE TABLE COMANDA (
  ID_COMANDA INT DEFAULT COMANDA_SEQ.NEXTVAL,
  TOTAL_PLATA NUMBER(10,2) NOT NULL,
  STARE_COMANDA VARCHAR2(255),
  DATA_COMANDA DATE,
  ID_UTILIZATOR INT,
  ID_LIVRARE INT UNIQUE,
  CONSTRAINT CHEIE_PRIMARA_COMANDA PRIMARY KEY (ID_COMANDA),
  CONSTRAINT TOTAL_PLATA_CHECK CHECK (TOTAL_PLATA >= 0),
  CONSTRAINT FK_COMANDA_UTILIZATOR FOREIGN KEY(ID_UTILIZATOR) REFERENCES UTILIZATOR(ID_UTILIZATOR),
  CONSTRAINT FK_COMANDA_LIVRARE FOREIGN KEY(ID_LIVRARE) REFERENCES LIVRARE(ID_LIVRARE),
  CONSTRAINT STARE_COMANDA_CHECK CHECK (STARE_COMANDA IN ('IN CURS DE PROCESARE', 'EFECTUATA', 'IN CURS DE PREGATIRE'))
);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES(100,'EFECTUATA','23-FEB-2023', 1,1);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES(106.9,'IN CURS DE PREGATIRE','10-MAY-2024', 3,2);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES(237.6,'IN CURS DE PREGATIRE','9-MAY-2024', 5,3);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES(129.5,'IN CURS DE PREGATIRE','15-MAY-2024',6 ,10);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (68.4, 'EFECTUATA', '23-FEB-2023', 1, 13);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (126.9, 'IN CURS DE PREGATIRE', '10-MAY-2024', 2, 12);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (117.6, 'IN CURS DE PREGATIRE', '9-MAY-2024', 3, 11);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (66.98, 'IN CURS DE PREGATIRE', '15-MAY-2024', 4, 4);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (62.5, 'EFECTUATA', '20-FEB-2024', 6, 6);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (216.98, 'EFECTUATA', '02-DEC-2023', 7, 7);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (116.98, 'IN CURS DE PROCESARE', '20-MAY-2024', 5, 5);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (250.68, 'IN CURS DE PROCESARE', '17-MAY-2024', 8, 8);

INSERT INTO COMANDA (TOTAL_PLATA, STARE_COMANDA, DATA_COMANDA, ID_UTILIZATOR, ID_LIVRARE) VALUES (346.48, 'EFECTUATA', '16-APR-2024', 9, 9);

SELECT * FROM COMANDA;



-- TABELA CARD
CREATE TABLE CARD (
  ID_CARD INT DEFAULT CARD_SEQ.NEXTVAL,
  NUMAR_CARD VARCHAR2(16) NOT NULL,
  NUME_PROPIETAR VARCHAR2(255),
  CVV VARCHAR2(4),
  DATA_EXPIRARE DATE,
  ID_UTILIZATOR INT,
  CONSTRAINT VERIFICARE_NUMAR_CARD CHECK ( LENGTH(NUMAR_CARD) = 16),
  CONSTRAINT VERIFICARE_CVV CHECK ( LENGTH(CVV)=3 or LENGTH(CVV)=4),
  CONSTRAINT CHEIE_PRIMARA_CARD PRIMARY KEY (ID_CARD),
  CONSTRAINT NUMAR_CARD_UNIC UNIQUE (NUMAR_CARD)
);

INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('0000111122223333','EMMA MACIUCA', '123', '01-FEB-2026', 1);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('1800789243671234','IULIANA MARIN', '812', '01-MAR-2028', 6);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('8902489019003532','POPESCU ANDREEA IOANA', '602', '01-APR-2029', 2);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('2310649119007413','ION ANDREI', '241', '01-OCT-2025', 3);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('1475148418001975','ANDREESCU MARIA', '207', '01-NOV-2026', 4);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('3485120719001298','MACIUCA SARA', '109', '01-DEC-2029', 5);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('4723699318001431','POP DARIA', '192', '01-JAN-2030', 7);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('2367646716001239','MARES DARIUS', '276', '01-APR-2025',9);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('6892163417001465','POPA MARA', '225', '01-MAY-2027', 8);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('1354235715003687','BALAN IOANA', '913', '01-JUL-2024', 10);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('1565611319003575','BALAN IOANA', '637', '01-DEC-2029', 10);
INSERT INTO CARD (numar_card, nume_propietar, CVV, data_expirare, id_utilizator) VALUES ('8243186518006295','POPESCU ANDREEA IOANA', '265', '01-APR-2028', 2);

SELECT * FROM CARD;



--Tabela PLATA
CREATE TABLE PLATA (
  ID_PLATA INT DEFAULT PLATA_SEQ.NEXTVAL,
  VALOARE NUMBER(10,2) NOT NULL,
  DATA_PLATA DATE,
  STARE VARCHAR2(255),
  ID_CARD INT,
  ID_COMANDA INT,
  CONSTRAINT CHEIE_PRIMARA_PLATA PRIMARY KEY (ID_PLATA),
  CONSTRAINT VALOARE_CHECK CHECK (VALOARE >= 0),
  CONSTRAINT FK_PLATA_CARD FOREIGN KEY(ID_CARD) REFERENCES CARD(ID_CARD),
  CONSTRAINT FK_PLATA_COMANDA FOREIGN KEY(ID_COMANDA) REFERENCES COMANDA(ID_COMANDA),
  CONSTRAINT STARE_PLATA_CHECK CHECK (STARE IN ('IN CURS DE PROCESARE', 'EFECTUATA', 'RESPINSA'))
);

INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(100,'23-FEB-2023','RESPINSA',1,1);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(129.5,'15-MAY-2024','EFECTUATA',2,4);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(106.9,'10-MAY-2024','EFECTUATA',4,2);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(126.9,'10-MAY-2024','RESPINSA',3,6);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(126.9,'10-MAY-2024','EFECTUATA',12,6);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(237.6,'09-MAY-2024','EFECTUATA',6,3);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(68.4,'23-FEB-2023','EFECTUATA',1,5);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(117.6,'09-MAY-2024','IN CURS DE PROCESARE',4,7);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(66.98,'15-MAY-2024','IN CURS DE PROCESARE',5,8);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(62.5,'20-FEB-2024','EFECTUATA',2,9);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(216.98,'02-DEC-2023','EFECTUATA',7,10);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(116.98,'20-MAY-2024','RESPINSA',6,11);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(250.68,'17-MAY-2024','IN CURS DE PROCESARE',9,12);
INSERT INTO PLATA (VALOARE, DATA_PLATA, STARE, ID_CARD, ID_COMANDA) VALUES(346.48,'16-APR-2024','EFECTUATA',8,13);
select * from plata;



--TABELA COS_CUMPARATURI
CREATE TABLE COS_CUMPARATURI (
  ID_COS INT DEFAULT COS_CUMPARATURI_SEQ.NEXTVAL,
  ID_UTILIZATOR INT UNIQUE,
  TOTAL_COS NUMBER(10,2),
  CONSTRAINT CHEIE_PRIMARA_COS_CUMPARATURI PRIMARY KEY (ID_COS),
  CONSTRAINT FK_COS_UTILIZATOR FOREIGN KEY(ID_UTILIZATOR) REFERENCES UTILIZATOR(ID_UTILIZATOR),
  CONSTRAINT TOTAL_COS_CHECK CHECK (TOTAL_COS >= 0)
);

INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (1,55.50);
	INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (2,150);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (3,220);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (4,199.99);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (5,202.48);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (6,0);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (7,129.5);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (8,0);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (9,0);
INSERT INTO COS_CUMPARATURI (ID_UTILIZATOR, TOTAL_COS) VALUES (10,200.69);
SELECT * FROM COS_CUMPARATURI;





-- TABELA LISTA_DORINTE
CREATE TABLE LISTA_DORINTE (
  ID_LISTA INT DEFAULT LISTA_DORINTE_SEQ.NEXTVAL,
  ID_UTILIZATOR INT,
  DENUMIRE_LISTA VARCHAR2(255) NOT NULL,
  CONSTRAINT CHEIE_PRIMARA_LISTA PRIMARY KEY (ID_LISTA),
  CONSTRAINT FK_LISTA_UTILIZATOR FOREIGN KEY(ID_UTILIZATOR) REFERENCES UTILIZATOR(ID_UTILIZATOR)
);
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (1,'PANTOFI');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (1, 'CADOURI');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (2, 'HAINE SPORT');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (2, 'CASUAL');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (3, 'OFFICE');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (4, 'HAINE VACANTA');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (5, 'HAINE TOAMNA');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (5, 'HAINE VARA');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (6, 'HAINE IARNA');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (7, 'HAINE PRIMAVARA');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (8, 'HAINE VARA');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (9, 'DIVERSE');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (10, 'FAMILIE');
INSERT INTO LISTA_DORINTE (ID_UTILIZATOR, DENUMIRE_LISTA) VALUES (10, 'FITNESS');
SELECT * FROM LISTA_DORINTE;



-- TABELA CATEGORIE
CREATE TABLE CATEGORIE (
  ID_CATEGORIE INT DEFAULT CATEGORIE_SEQ.NEXTVAL,
  DENUMIRE_CATEGORIE VARCHAR2(255) NOT NULL,
  CONSTRAINT CHEIE_PRIMARA_CATEGORIE PRIMARY KEY (ID_CATEGORIE)
);

INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('TRICOU');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('PANTALONI');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('ROCHIE'); 
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('GEACA'); 
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('VESTA');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('CAMASA');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('GEANTA');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('OCHELARI DE SOARE');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('PULOVER');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('FUSTA');
INSERT INTO CATEGORIE (DENUMIRE_CATEGORIE) VALUES ('ESARFA');
SELECT * FROM CATEGORIE;



-- TABELA PRODUS
CREATE TABLE PRODUS (
  ID_PRODUS INT DEFAULT PRODUS_SEQ.NEXTVAL,
  DENUMIRE_PRODUS VARCHAR2(255),
  PRET NUMBER(10,2) NOT NULL,
  STOC NUMBER(10),
  ID_CATEGORIE INT,
  CONSTRAINT CHEIE_PRIMARA_PRODUS PRIMARY KEY (ID_PRODUS),
  CONSTRAINT FK_PRODUS_CATEGORIE FOREIGN KEY (ID_CATEGORIE)
            REFERENCES CATEGORIE(ID_CATEGORIE)
);

INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('TRICOU ALBASTRU',55.50,10,1);
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('PANTALONI FORMALI',120.00,6,2); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('CAMASA DE IN',110.70,20,6); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('TRICOU GRI',49.99,25,1); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('ROCHIE DE PLAJA',99.99,10,3); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('OCHELARI DE SOARE COPII',52.50,5,8); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('GEACA DE IARNA',199.99,35,4); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('CAMASA VERDE',89.99,17,6); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('GEANTA DE UMAR',129.50,20,7);
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('TRICOU IN DUNGI',49.99,15,1);
INSERT INTO PRODUS(DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('VESTA ALBASTRA', 100 ,20,5); 
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('FUSTA MIDI', 75.00, 12, 10);
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('PULOVER DE LANA', 150.00, 8, 9);
INSERT INTO PRODUS (DENUMIRE_PRODUS, PRET, STOC, ID_CATEGORIE) VALUES ('ESARFA COLORATA', 30.00, 25, 11);
SELECT * FROM PRODUS;



-- TABELA PRODUS_COMANDA
CREATE TABLE PRODUS_COMANDA(
  ID_PRODUS INT,
  ID_COMANDA INT,
  CONSTRAINT PK_PRODUS_COMANDA  PRIMARY KEY (ID_PRODUS, ID_COMANDA),
 CONSTRAINT FK_PRODUS_COMANDA_PRODUS  FOREIGN KEY (ID_PRODUS) REFERENCES PRODUS(ID_PRODUS),
  CONSTRAINT FK_PRODUS_COMANDA_COMANDA  FOREIGN KEY (ID_COMANDA) REFERENCES COMANDA(ID_COMANDA)
);

INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (2, 1);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (11, 2);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (2, 3);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (3, 3);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (9, 4);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (1, 5);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (2, 6);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (3, 7);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (4, 8);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (6, 9);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (7, 10);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (5, 11);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (8, 12);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (3, 12);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (10, 12);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (9, 13);
INSERT INTO PRODUS_COMANDA (ID_PRODUS, ID_COMANDA) VALUES (7, 13);
SELECT * FROM PRODUS_COMANDA;



-- TABELA PRODUS_COS
CREATE TABLE PRODUS_COS(
  ID_PRODUS INT,
  ID_COS INT,
  CONSTRAINT PK_PRODUS_COS PRIMARY KEY (ID_PRODUS, ID_COS),
  CONSTRAINT FK_PRODUS_COS_PRODUS FOREIGN KEY (ID_PRODUS) REFERENCES PRODUS(ID_PRODUS),
  CONSTRAINT FK_PRODUS_COS_COS FOREIGN KEY (ID_COS) REFERENCES COS_CUMPARATURI(ID_COS)
);

    INSERT INTO PRODUS_COS VALUES(1,1);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(13,2);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(2,3);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(11,3);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(7,4);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(4,5);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(5,5);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(6,5);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(9,7);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(3,10);
    INSERT INTO PRODUS_COS (ID_PRODUS,ID_COS) VALUES(8,10);
SELECT * FROM PRODUS_COS;




-- TABELA PRODUS_LISTA
CREATE TABLE PRODUS_LISTA(
  ID_PRODUS INT,
  ID_LISTA INT,
  CONSTRAINT PK_PRODUS_LISTA PRIMARY KEY (ID_PRODUS, ID_LISTA),
  CONSTRAINT FK_PRODUS_LISTA_PRODUS FOREIGN KEY (ID_PRODUS) REFERENCES PRODUS(ID_PRODUS),
  CONSTRAINT FK_PRODUS_LISTA_LISTA FOREIGN KEY (ID_LISTA) REFERENCES LISTA_DORINTE(ID_LISTA)
);

INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (1, 1);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (2, 1);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (3, 2);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (4, 3);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (5, 4);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (6, 4);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (7, 5);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (8, 6);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (9, 6);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (10, 7);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (11, 7);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (12, 9);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (13, 10);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (1, 11);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (2, 12);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (3, 13);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (4, 14);
INSERT INTO PRODUS_LISTA (ID_PRODUS, ID_LISTA) VALUES (5, 14);
SELECT * FROM PRODUS_LISTA;
